imports:
  enums: ../types/enum.yml

service:
  auth: true
  base-path: /enum
  endpoints:
    getAndReturnEnum:
      method: POST
      path: ""
      request: enums.WeatherReport
      response: enums.WeatherReport

    # Test case for wire test generation with optional enum field
    # The example includes an invalid enum value to test that nop values
    # are properly filtered out when generating method arguments
    # This reproduces a bug found in Twilio API where Status: "status" was used
    # as a placeholder instead of a valid enum value
    getAndReturnObjectWithOptionalEnum:
      method: POST
      path: /object-with-optional-enum
      request: enums.ObjectWithOptionalEnum
      response: enums.ObjectWithOptionalEnum
      examples:
        - name: WithInvalidOptionalEnum
          request:
            string: "test-string"
            weather: "invalid_enum_value"
          response:
            body:
              string: "test-string"
