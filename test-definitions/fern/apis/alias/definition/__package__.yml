types:
  TypeId:
    docs: An alias for type IDs.
    type: string
    examples:
      - name: One
        value: type-kaljhv87

  Type:
    docs: A simple type with just a name.
    properties:
      id: TypeId
      name: string
    examples:
      - name: One
        value:
          id: type-df89sdg1
          name: foo

  Object:
    docs: Object is an alias for a type.
    type: Type
    examples:
      - name: One
        value:
          id: kljasc85
          name: bar

  TypeIdMap:
    docs: A map using TypeId (wrapped alias) as keys.
    type: map<TypeId, string>
    examples:
      - name: One
        value:
          type-abc123: "value1"
          type-def456: "value2"

  NestedTypeIdMap:
    docs: A nested map structure with wrapped alias keys.
    type: map<TypeId, map<string, string>>
    examples:
      - name: One
        value:
          type-outer1:
            inner1: "nested-value1"
            inner2: "nested-value2"
          type-outer2:
            inner3: "nested-value3"

  ComplexMapObject:
    docs: An object containing maps with wrapped alias keys.
    properties:
      simpleMap: map<TypeId, string>
      nestedMap: map<TypeId, Type>
    examples:
      - name: One
        value:
          simpleMap:
            type-key1: "simple-value"
          nestedMap:
            type-key2:
              id: type-nested
              name: nested-type

  TypeIdAlias:
    docs: An alias of TypeId (tests nested alias resolution).
    type: TypeId
    examples:
      - name: One
        value: type-nested-alias

  OptionalTypeId:
    docs: An optional TypeId (tests alias wrapping optional).
    type: optional<TypeId>
    examples:
      - name: Some
        value: type-optional-123

  TypeIdList:
    docs: A list of TypeIds (tests alias in list items).
    type: list<TypeId>
    examples:
      - name: One
        value:
          - type-list-1
          - type-list-2

  StringToTypeIdMap:
    docs: A map with TypeId as values instead of keys.
    type: map<string, TypeId>
    examples:
      - name: One
        value:
          key1: "type-value-1"
          key2: "type-value-2"

  TypeIdToTypeIdMap:
    docs: A map with TypeId as both keys and values.
    type: map<TypeId, TypeId>
    examples:
      - name: One
        value:
          type-key-1: "type-value-1"
          type-key-2: "type-value-2"

  NestedAliasMap:
    docs: A map using nested alias (TypeIdAlias) as keys.
    type: map<TypeIdAlias, string>
    examples:
      - name: One
        value:
          type-nested-1: "value1"

  ContainerAliasCombinations:
    docs: Object testing aliases in various container positions.
    properties:
      aliasToList: TypeIdList
      listOfAliases: list<TypeId>
      optionalAlias: optional<TypeId>
      mapOfAliasLists: map<TypeId, list<TypeId>>
    examples:
      - name: One
        value:
          aliasToList:
            - type-1
            - type-2
          listOfAliases:
            - type-3
            - type-4
          optionalAlias: type-optional
          mapOfAliasLists:
            type-key:
              - type-inner-1
              - type-inner-2

service:
  auth: false
  base-path: /
  endpoints:
    get:
      path: "/{typeId}"
      path-parameters:
        typeId: TypeId
      method: GET

    getTypeMap:
      docs: Test endpoint for maps with wrapped alias keys.
      path: "/types/map"
      method: POST
      request: TypeIdMap
      response: TypeIdMap

    getNestedMap:
      docs: Test endpoint for nested maps with wrapped alias keys.
      path: "/types/nested-map"
      method: GET
      response: NestedTypeIdMap

    updateComplexMap:
      docs: Test endpoint for complex objects containing maps with wrapped alias keys.
      path: "/types/complex-map"
      method: PUT
      request: ComplexMapObject
      response: ComplexMapObject

    getWithQueryParam:
      docs: Test endpoint with TypeId in query parameter.
      path: "/types/query"
      method: GET
      query-parameters:
        typeId: TypeId
        optionalTypeId: optional<TypeId>
      response: Type

    getWithHeader:
      docs: Test endpoint with TypeId in header.
      path: "/types/header"
      method: GET
      headers:
        X-Type-Id: TypeId
      response: Type

    testContainerAliases:
      docs: Test endpoint exercising aliases in containers.
      path: "/types/containers"
      method: POST
      request: ContainerAliasCombinations
      response: ContainerAliasCombinations

    testAliasAsValue:
      docs: Test endpoint with map having alias as value.
      path: "/types/value-map"
      method: POST
      request: StringToTypeIdMap
      response: StringToTypeIdMap

    testNestedAliasMap:
      docs: Test endpoint with nested alias in map keys.
      path: "/types/nested-alias-map"
      method: POST
      request: NestedAliasMap
      response: NestedAliasMap

    testAliasAsBoth:
      docs: Test endpoint with alias as both map key and value.
      path: "/types/both-map"
      method: POST
      request: TypeIdToTypeIdMap
      response: TypeIdToTypeIdMap
