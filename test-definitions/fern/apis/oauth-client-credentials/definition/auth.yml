types:
  TokenResponse:
    docs: |
      An OAuth token response.
    properties:
      access_token: string
      expires_in: integer
      refresh_token: optional<string>

service:
  auth: false
  base-path: /
  endpoints:
    getTokenWithClientCredentials:
      path: /token
      method: POST
      request:
        name: GetTokenRequest
        content-type: application/x-www-form-urlencoded
        body:
          properties:
            client_id: string
            client_secret: string
            audience: literal<"https://api.example.com">
            grant_type: literal<"client_credentials">
            scope: optional<string>
      response: TokenResponse
      examples:
        - request:
            client_id: "my_oauth_app_123"
            client_secret: "sk_live_abcdef123456789"
            audience: "https://api.example.com"
            grant_type: "client_credentials"
            scope: "read:users"
          response:
            body:
              access_token: "access_token"
              expires_in: 1
              refresh_token: "refresh_token"

    refreshToken:
      path: /token
      method: POST
      request:
        name: RefreshTokenRequest
        content-type: application/x-www-form-urlencoded
        body:
          properties:
            client_id: string
            client_secret: string
            refresh_token: string
            audience: literal<"https://api.example.com">
            grant_type: literal<"refresh_token">
            scope: optional<string>
      response: TokenResponse
      examples:
        - request:
            client_id: "my_oauth_app_123"
            client_secret: "sk_live_abcdef123456789"
            refresh_token: "refresh_token"
            audience: "https://api.example.com"
            grant_type: "refresh_token"
            scope: "read:users"
          response:
            body:
              access_token: "access_token"
              expires_in: 1
              refresh_token: "refresh_token"
