types:
  GetTokenRequest:
    docs: |
      A request to obtain an OAuth token.
    properties:
      client_id: string
      client_secret: string
      audience: literal<"https://api.example.com">
      grant_type: literal<"client_credentials">
      scope: optional<string>

  RefreshTokenRequest:
    docs: |
      A request to refresh an OAuth token.
    properties:
      client_id: string
      client_secret: string
      refresh_token: string
      audience: literal<"https://api.example.com">
      grant_type: literal<"refresh_token">
      scope: optional<string>

  TokenResponse:
    docs: |
      An OAuth token response.
    properties:
      access_token: string
      expires_in: integer
      refresh_token: optional<string>

service:
  auth: false
  base-path: /
  endpoints:
    getTokenWithClientCredentials:
      path: /token
      method: POST
      request: GetTokenRequest
      response: TokenResponse

    refreshToken:
      path: /token/refresh
      method: POST
      request: RefreshTokenRequest
      response: TokenResponse
