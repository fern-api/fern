name: inferred-auth-explicit-refresh
imports:
  auth: auth.yml

auth: InferredAuthScheme
auth-schemes:
  InferredAuthScheme:
    scheme: bearer
    get-token:
      endpoint: auth.getTokenWithClientCredentials
      expiry-response-property: $response.expires_in
      authenticated-request-headers:
        - header-name: Authorization
          value-prefix: "Bearer "
          response-property: $response.access_token
    refresh-token:
      endpoint: auth.refreshToken
      expiry-response-property: $response.expires_in
      authenticated-request-headers:
        - header-name: Authorization
          value-prefix: "Bearer "
          response-property: $response.access_token
