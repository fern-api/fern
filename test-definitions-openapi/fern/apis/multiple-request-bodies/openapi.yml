openapi: 3.1.0
info:
  title: Sample API
  version: 1.0.0
servers:
  - url: https://api.example.com/v1
    description: Production server
security:
  - bearerAuth: []
paths:
  /documents/upload:
    post:
      summary: Upload document metadata (JSON) or document file
      operationId: uploadDocument
      requestBody:
        content:
          application/json:
            x-fern-sdk-method-name: uploadJsonDocument
            schema:
              type: object
              properties:
                title:
                  type: string
                author:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
          application/pdf:
            x-fern-sdk-method-name: uploadPdfDocument
            schema:
              type: string
              format: binary
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/DocumentMetadata"
                  - $ref: "#/components/schemas/DocumentUploadResult"

components:
  schemas:
    DocumentMetadata:
      type: object
      properties:
        id:
          type: integer
        title:
          type: string
        author:
          type: string
        tags:
          type: array
    DocumentUploadResult:
      type: object
      properties:
        fileId:
          type: string
        status:
          type: string
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
