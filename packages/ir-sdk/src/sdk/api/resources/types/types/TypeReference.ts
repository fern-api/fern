/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as FernIr from "../../../index";

export type TypeReference =
    | FernIr.TypeReference.Container
    | FernIr.TypeReference.Named
    | FernIr.TypeReference.Primitive
    | FernIr.TypeReference.Unknown;

export namespace TypeReference {
    export interface Container extends _Utils {
        type: "container";
        container: FernIr.ContainerType;
    }

    export interface Named extends FernIr.NamedType, _Utils {
        type: "named";
    }

    export interface Primitive extends _Utils {
        type: "primitive";
        primitive: FernIr.PrimitiveType;
    }

    export interface Unknown extends _Utils {
        type: "unknown";
    }

    export interface _Utils {
        _visit: <_Result>(visitor: FernIr.TypeReference._Visitor<_Result>) => _Result;
    }

    export interface _Visitor<_Result> {
        container: (value: FernIr.ContainerType) => _Result;
        named: (value: FernIr.NamedType) => _Result;
        primitive: (value: FernIr.PrimitiveType) => _Result;
        unknown: () => _Result;
        _other: (value: { type: string }) => _Result;
    }
}

export const TypeReference = {
    container: (value: FernIr.ContainerType): FernIr.TypeReference.Container => {
        return {
            container: value,
            type: "container",
            _visit: function <_Result>(
                this: FernIr.TypeReference.Container,
                visitor: FernIr.TypeReference._Visitor<_Result>,
            ) {
                return FernIr.TypeReference._visit(this, visitor);
            },
        };
    },

    named: (value: FernIr.NamedType): FernIr.TypeReference.Named => {
        return {
            ...value,
            type: "named",
            _visit: function <_Result>(
                this: FernIr.TypeReference.Named,
                visitor: FernIr.TypeReference._Visitor<_Result>,
            ) {
                return FernIr.TypeReference._visit(this, visitor);
            },
        };
    },

    primitive: (value: FernIr.PrimitiveType): FernIr.TypeReference.Primitive => {
        return {
            primitive: value,
            type: "primitive",
            _visit: function <_Result>(
                this: FernIr.TypeReference.Primitive,
                visitor: FernIr.TypeReference._Visitor<_Result>,
            ) {
                return FernIr.TypeReference._visit(this, visitor);
            },
        };
    },

    unknown: (): FernIr.TypeReference.Unknown => {
        return {
            type: "unknown",
            _visit: function <_Result>(
                this: FernIr.TypeReference.Unknown,
                visitor: FernIr.TypeReference._Visitor<_Result>,
            ) {
                return FernIr.TypeReference._visit(this, visitor);
            },
        };
    },

    _visit: <_Result>(value: FernIr.TypeReference, visitor: FernIr.TypeReference._Visitor<_Result>): _Result => {
        switch (value.type) {
            case "container":
                return visitor.container(value.container);
            case "named":
                return visitor.named(value);
            case "primitive":
                return visitor.primitive(value.primitive);
            case "unknown":
                return visitor.unknown();
            default:
                return visitor._other(value as any);
        }
    },
} as const;
