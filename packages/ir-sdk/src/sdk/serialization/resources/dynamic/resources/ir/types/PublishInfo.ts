/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../../../index";
import * as FernIr from "../../../../../../api/index";
import * as core from "../../../../../../core";
import { GoPublishInfo } from "./GoPublishInfo";
import { SwiftPublishInfo } from "./SwiftPublishInfo";
import { MavenPublishInfo } from "./MavenPublishInfo";
import { NpmPublishInfo } from "./NpmPublishInfo";
import { NugetPublishInfo } from "./NugetPublishInfo";
import { PypiPublishInfo } from "./PypiPublishInfo";
import { RubyGemsPublishInfo } from "./RubyGemsPublishInfo";
import { CratesPublishInfo } from "./CratesPublishInfo";

export const PublishInfo: core.serialization.Schema<serializers.dynamic.PublishInfo.Raw, FernIr.dynamic.PublishInfo> =
    core.serialization
        .union("type", {
            go: GoPublishInfo,
            swift: SwiftPublishInfo,
            maven: MavenPublishInfo,
            npm: NpmPublishInfo,
            nuget: NugetPublishInfo,
            pypi: PypiPublishInfo,
            rubygems: RubyGemsPublishInfo,
            crates: CratesPublishInfo,
        })
        .transform<FernIr.dynamic.PublishInfo>({
            transform: (value) => {
                switch (value.type) {
                    case "go":
                        return FernIr.dynamic.PublishInfo.go(value);
                    case "swift":
                        return FernIr.dynamic.PublishInfo.swift(value);
                    case "maven":
                        return FernIr.dynamic.PublishInfo.maven(value);
                    case "npm":
                        return FernIr.dynamic.PublishInfo.npm(value);
                    case "nuget":
                        return FernIr.dynamic.PublishInfo.nuget(value);
                    case "pypi":
                        return FernIr.dynamic.PublishInfo.pypi(value);
                    case "rubygems":
                        return FernIr.dynamic.PublishInfo.rubygems(value);
                    case "crates":
                        return FernIr.dynamic.PublishInfo.crates(value);
                    default:
                        return value as FernIr.dynamic.PublishInfo;
                }
            },
            untransform: ({ _visit, ...value }) => value as any,
        });

export declare namespace PublishInfo {
    export type Raw =
        | PublishInfo.Go
        | PublishInfo.Swift
        | PublishInfo.Maven
        | PublishInfo.Npm
        | PublishInfo.Nuget
        | PublishInfo.Pypi
        | PublishInfo.Rubygems
        | PublishInfo.Crates;

    export interface Go extends GoPublishInfo.Raw {
        type: "go";
    }

    export interface Swift extends SwiftPublishInfo.Raw {
        type: "swift";
    }

    export interface Maven extends MavenPublishInfo.Raw {
        type: "maven";
    }

    export interface Npm extends NpmPublishInfo.Raw {
        type: "npm";
    }

    export interface Nuget extends NugetPublishInfo.Raw {
        type: "nuget";
    }

    export interface Pypi extends PypiPublishInfo.Raw {
        type: "pypi";
    }

    export interface Rubygems extends RubyGemsPublishInfo.Raw {
        type: "rubygems";
    }

    export interface Crates extends CratesPublishInfo.Raw {
        type: "crates";
    }
}
