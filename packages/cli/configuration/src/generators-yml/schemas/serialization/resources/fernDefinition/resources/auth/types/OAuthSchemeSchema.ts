/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../../../index";
import * as GeneratorsYml from "../../../../../../api/index";
import * as core from "../../../../../../core";
import { AuthScope } from "./AuthScope";
import { OAuthGetTokenEndpointSchema } from "./OAuthGetTokenEndpointSchema";
import { OAuthRefreshTokenEndpointSchema } from "./OAuthRefreshTokenEndpointSchema";
import { WithDocsSchema } from "../../commons/types/WithDocsSchema";

export type OAuthGrantType =
    | "client-credentials"
    | "authorization-code"
    | "password"
    | "device-code"
    | "token-exchange"
    | "refresh-token";

export const OAuthSchemeSchema: core.serialization.ObjectSchema<
    serializers.fernDefinition.OAuthSchemeSchema.Raw,
    GeneratorsYml.fernDefinition.OAuthSchemeSchema
> = core.serialization
    .object({
        scheme: core.serialization.stringLiteral("oauth"),
        type: core.serialization.enum_([
            "client-credentials",
            "authorization-code",
            "password",
            "device-code",
            "token-exchange",
            "refresh-token"
        ]),
        scopes: core.serialization.list(AuthScope).optional(),
        "client-id-env": core.serialization.string().optional(),
        "client-secret-env": core.serialization.string().optional(),
        "token-prefix": core.serialization.string().optional(),
        "token-header": core.serialization.string().optional(),
        "get-token": OAuthGetTokenEndpointSchema,
        "refresh-token": OAuthRefreshTokenEndpointSchema.optional(),
        "authorization-endpoint": core.serialization.string().optional(),
        "redirect-uri": core.serialization.string().optional(),
        "use-pkce": core.serialization.boolean().optional(),
        "username-env": core.serialization.string().optional(),
        "password-env": core.serialization.string().optional(),
        "device-authorization-endpoint": core.serialization.string().optional()
    })
    .extend(WithDocsSchema);

export declare namespace OAuthSchemeSchema {
    export interface Raw extends WithDocsSchema.Raw {
        scheme: "oauth";
        type: OAuthGrantType;
        scopes?: AuthScope.Raw[] | null;
        "client-id-env"?: string | null;
        "client-secret-env"?: string | null;
        "token-prefix"?: string | null;
        "token-header"?: string | null;
        "get-token": OAuthGetTokenEndpointSchema.Raw;
        "refresh-token"?: OAuthRefreshTokenEndpointSchema.Raw | null;
        "authorization-endpoint"?: string | null;
        "redirect-uri"?: string | null;
        "use-pkce"?: boolean | null;
        "username-env"?: string | null;
        "password-env"?: string | null;
        "device-authorization-endpoint"?: string | null;
    }
}
