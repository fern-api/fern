imports: 
  commons: commons.yml
  encoding: encoding.yml
  validation: validation.yml
  examples: examples.yml
  source: source.yml

types: 
  TypeDeclarationSchema: 
    discriminated: false
    union: 
      - string
      - ObjectSchema
      - EnumSchema
      - DiscriminatedUnionSchema
      - UndiscriminatedUnionSchema
      - AliasSchema
  
  InlinedTypeDeclarationContainer: 
    properties: 
      type: InlinedTypeDeclaration
  
  InlinedTypeDeclaration: 
    discriminated: false
    union: 
      - ObjectSchema
      - EnumSchema
      - DiscriminatedUnionSchema
      - UndiscriminatedUnionSchema
  
  TypeReferenceSchema: 
    discriminated: false
    union: 
      - string
      - TypeReferenceDetailed
  
  BaseTypeReferenceSchema: 
    extends: 
      - commons.WithDocsSchema
      - commons.WithAvailability
    properties: 
      type: string
      default: optional<unknown>
      encoding: optional<encoding.EncodingSchema>
      validation: optional<validation.ValidationSchema>

  TypeReferenceDetailed:
    extends: BaseTypeReferenceSchema

  TypeReferenceDeclarationWithNameSchema: 
    discriminated: false
    union: 
      - string
      - TypeReferenceDeclarationWithName
  
  TypeReferenceDeclarationWithName:
    extends: 
      - BaseTypeReferenceSchema
      - commons.WithName
      - commons.WithAudiences
  
  BaseTypeDeclarationSchema: 
    extends: 
      - commons.WithDocsSchema
      - commons.WithAvailability
      - commons.WithAudiences
    properties: 
      examples: optional<list<examples.ExampleTypeSchema>>
      encoding: optional<encoding.EncodingSchema>
      source: optional<source.SourceSchema>
  
  ### Aliases #### 

  AliasSchema: 
    extends: BaseTypeDeclarationSchema
    properties: 
      type: string
      validation: optional<validation.ValidationSchema>
  
  #### Objects ####

  ObjectSchema: 
    extends: BaseTypeDeclarationSchema
    properties: 
      extends: optional<ObjectExtendsSchema>
      properties: optional<map<string, ObjectPropertySchema>>
      extra-properties: optional<boolean>
  
  ObjectPropertySchema: TypeReferenceDeclarationWithNameSchema
  
  ObjectExtendsSchema: 
    discriminated: false
    union: 
      - string
      - list<string>

  # ObjectPropertyDeclaration:
  #   discriminated: false 
  #   union: 
  #     - TypeReference
  #     - InlinedTypeDeclaration
  
  #### Enums ####
  
  EnumSchema: 
    extends: BaseTypeDeclarationSchema
    properties: 
      default: optional<string>
      enum: list<EnumVaue>
  
  EnumVaue:
    discriminated: false
    union: 
      - string
      - EnumValueSchema
  
  EnumValueSchema: 
    extends: 
      - commons.WithDocsSchema
      - commons.WithName
    properties: 
      value: string
      casing: optional<CasingOverridesSchema>
  
  CasingOverridesSchema: 
    properties: 
      camel: optional<string>
      snake: optional<string>
      pascal: optional<string>
      screaming-snake: optional<string>

  #### Discriminated Union ####

  SingleUnionTypeSchema: 
    discriminated: false
    union: 
      - string
      - SingleUnionTypeDetailedSchema

  SingleUnionTypeDetailedSchema: 
    extends: 
      - commons.WithDocsSchema
      - commons.WithName
      - commons.WithAvailability
      - commons.WithDisplayName
    properties: 
      type: optional<string>
      key: optional<SingleUnionTypeKey>
    
  SingleUnionTypeKey: 
    discriminated: false
    union: 
      - string
      - SingleUnionTypeKeySchema

  SingleUnionTypeKeySchema: 
    extends: 
      - commons.WithName
    properties: 
      value: string
  
  DiscriminatedUnionSchema: 
    extends: BaseTypeDeclarationSchema
    properties: 
      discriminant: optional<UnionDiscriminant>
      extends: optional<ObjectExtendsSchema>
      base-properties: optional<map<string, TypeReferenceSchema>>
      union: map<string, SingleUnionTypeSchema>
  
  UnionDiscriminant: 
    discriminated: false
    union: 
      - string
      - UnionDiscriminantSchema
  
  UnionDiscriminantSchema: 
    extends: 
      - commons.WithName
    properties: 
      value: string

#### Undiscriminated Union ####

  UndiscriminatedUnionSchema: 
    extends: BaseTypeDeclarationSchema
    properties: 
      discriminated: literal<false>
      union: list<SingleUndiscriminatedUnionTypeSchema>
  
  SingleUndiscriminatedUnionTypeSchema: 
    discriminated: false
    union: 
      - string
      - SingleUndiscriminatedUnionTypeDetailedSchema
  
  SingleUndiscriminatedUnionTypeDetailedSchema:
    extends: 
      - commons.WithDocsSchema
      - commons.WithDisplayName
    properties:   
      type: string