openapi: 3.0.3

info:
  version: "1"
  title: BIN Information
  description: BIN information provides details about a card and the features it supports. Use the BIN Information resource to view information for all available BINs or a specific BIN.
  contact:
    name: Payroc Helpdesk
    url: https://docs.payroc.com/api
    email: helpdesk@payroc.com

tags:
  - name: BIN information
    description: BIN information resource.

paths:
  /bin-information:
    parameters:
      - $ref: './parameters-v1.yaml#/components/parameters/dateTime'
          
    get:
      tags: [BIN information]
      summary: Retrieve information for all available BINs
      operationId: listBinInformation
      responses:
        "200":
          description: Successful request. We retrieved information for all available BINs.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/listBinInfo'
        "400":
          $ref: '../../../common/responses/errors/400-v1.yaml#/components/responses/400'
        "401":
          $ref: '../../../common/responses/errors/401-v1.yaml#/components/responses/401'
        "403":
          $ref: '../../../common/responses/errors/403-v1.yaml#/components/responses/403'
        "404":
          $ref: '../../../common/responses/errors/404-v1.yaml#/components/responses/404'
        "406":
          $ref: '../../../common/responses/errors/406-v1.yaml#/components/responses/406'
        "500":
          $ref: '../../../common/responses/errors/500-v1.yaml#/components/responses/500'

  /bin-information/_search:

    post:
      tags: [BIN information]
      summary: Search BIN information 
      operationId: searchBinInformation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/search'
            
      responses:
        "200":
          description: Successful request. We retrieved information for any BINs that matched your search criteria.
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/searchResponse'
        "400":
          $ref: '../../../common/responses/errors/400-v1.yaml#/components/responses/400'
        "401":
          $ref: '../../../common/responses/errors/401-v1.yaml#/components/responses/401'
        "403":
          $ref: '../../../common/responses/errors/403-v1.yaml#/components/responses/403'
        "406":
          $ref: '../../../common/responses/errors/406-v1.yaml#/components/responses/406'
        "500":
          $ref: '../../../common/responses/errors/500-v1.yaml#/components/responses/500'
          
  /bin-information/{binNumber}:
    parameters:
      - $ref: './parameters-v1.yaml#/components/parameters/binNumber'
      - $ref: './parameters-v1.yaml#/components/parameters/dateTime'
        
    get:
      tags: [BIN information]
      summary: Retrieve BIN information
      description: Retrieve information for a specific BIN.
      operationId: getBinInformation
      responses:
        '200':
          description: Successful response. We retrieved the information for the BIN.  
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/infoWithBin'
        "400":
          $ref: '../../../common/responses/errors/400-v1.yaml#/components/responses/400'
        "401":
          $ref: '../../../common/responses/errors/401-v1.yaml#/components/responses/401'
        "403":
          $ref: '../../../common/responses/errors/403-v1.yaml#/components/responses/403'
        "404":
          $ref: '../../../common/responses/errors/404-v1.yaml#/components/responses/404'
        "406":
          $ref: '../../../common/responses/errors/406-v1.yaml#/components/responses/406'
        "500":
          $ref: '../../../common/responses/errors/500-v1.yaml#/components/responses/500'

components:
  schemas:
    binInfo:
      type: object
      required:
        - info
      properties:
        info:
          $ref: '#/components/schemas/infoWithBin'
    
    listBinInfo:
      type: object
      title: paginated BIN information
      allOf:
      - $ref: '../../../common/schemas/common/paginated-list-v1.yaml#/components/schemas/paginatedList'
      - type: object
        properties:
          data:
            type: array
            description: Array of BIN information objects.
            items:
              allOf:
              - $ref: '#/components/schemas/infoWithLowHighBins'
              - type: object
                properties:
                  links:
                    type: array
                    items:
                      $ref: "../../../common/schemas/common/link/link-v1.yaml#/components/schemas/link"
            minItems: 0
        required: [data]
          
    info:
      type: object
      title: BIN information
      required:
        - issuerUpdateDate
        - bankName
        - countryCode
        - detailCardProduct
        - detailCardIndicator
        - cardIssueType
        - pinSignatureCapability
        - isSurcharge
        - debitNetworkPINlessIndicator
        - debitNetworkParticipant
        - isFSA
        - isPrepaid
        - productId
        - regulatorIndicator
        - accountFundSource
        - cardClass
        - primaryAccountNumLenMin
        - primaryAccountNumLenMax
        - isToken
        - issuingNetwork
        - cardholderBillingCurrency
        - accountFundSourceSubType
        - anonymousPrepaidIndicator
        - moneySendIndicator
        - mtIndicator
        - ogIndicator
        - fastFunds
        - octIndicator
      properties:
        issuerUpdateDate:
          type: string
          description: Date the issuer last updated the record.
          example: "01-01-2020"
        bankName:
          type: string
          description: Name of the issuing bank.
          example: 'MASTERCARD - OPERATIONS & TECHNOLOGY - BIZOPS'
        countryCode:
          type: string
          description: Country code that describes where the card was issued. We don't return a value for American Express cards.
          example: 'USA'
        detailCardProduct:
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
          description: Network the card belongs to.
        detailCardIndicator:
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
          description: Indicates the card type, and if the card supports PIN entry and signature.
        cardIssueType:
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
          description: Indicates if the card is a debit card or a credit card. 
        pinSignatureCapability:
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
          description: Indicates if the card supports PIN entry and signature.
        isSurcharge:
          type: boolean
          example: false,
          description: Indicates if the card supports a surcharge.
        debitNetworkPINlessIndicator:
          type: array
          description: Array of values that describe the debit network, and if the card supports PINless debit transactions.
          items:
            type: string
            example: ['00', '25P', '30P']
        debitNetworkParticipant:
          description: Debit network that the card uses.
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        isFSA:
          type: boolean
          description: Indicates if the card is a flexible savings account (FSA) card.
          example: false
        isPrepaid:
          type: boolean
          description: Indicates if the card is a prepaid card.
          example: false
        productId:
          type: string
          description: Indicates the type of product that the card is linked to.
          example: 'Visa Business Tier 1 (US)'
        regulatorIndicator:
          description: Indicates if the card issuer is regulated. U.S. only.
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        accountFundSource:
          description: Identifies the type of funds that the account uses. The default value for American Express cards is credit.
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        cardClass:
          description: Indicates if the card is a personal card or a business card.  
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        primaryAccountNumLenMin:
          description: Minimum length of the primary account number (PAN). 
          type: number
          example: 16
        primaryAccountNumLenMax:
          description: Maximum length of the PAN.
          type: number
          example: 16
        isToken:
          type: boolean
          description: Indicates if the BIN is associated with a token.
          example: false
        issuingNetwork:
          description: Describes the network that issued the card. Discover cards only.   
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        cardholderBillingCurrency:
          type: string
          description: Currency of the country where the card was issued.  
          example: '840'
        accountFundSourceSubType:
          description: Indicates if the card is reloadable. Prepaid cards only.   
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        anonymousPrepaidIndicator:
          description: Indicates if the card supports Anonymous Prepaid. MasterCard only.  
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        moneySendIndicator:
          description: Indicates if the account can receive MoneySend payments. MasterCard only.   
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        mtIndicator:
          type: string
          description: Indicates if the account can receive a money transfer using an Original Credit Transaction. Visa only. 
          example: '1'
        ogIndicator:
          type: string
          description: Indicates if the account can receive a lottery payout or gambling payout using an Original Credit Transaction. Visa only.
          example: '1'
        fastFunds:
          description: Indicates if the account supports Fast Funds. MasterCard and Visa only. 
          allOf:
            - $ref: '#/components/schemas/binDetailItem'
        octIndicator:
          type: string
          description: Indicates if the account can receive an Original Credit Transaction. Visa only.
          example: '1'
    
    infoWithBin:
      required:
        - bin
      properties:
          bin:
            type: string
            example: "111111"
      allOf: 
        - $ref: '#/components/schemas/info'
        - type: object

    infoWithLowHighBins:
      required:
        - lowBIN
        - highBIN
      properties:
        lowBIN:
          type: string
          example: "11110"
        highBIN:
          type: string
          example: "11112"
      allOf: 
        - $ref: '#/components/schemas/info'
        - type: object
          
    binDetailItem:
      required:
        - key
        - value
        - description
      properties:
        key:
          type: string
          example: '1'
        value:
          type: string
          example: 'ALL'
        description:
          type: string
          example: 'All Information'
    
    search:
      required:
        - queries
      properties:
        queries:
          description: Array that contains the criteria for your search.
          type: array
          items:
            $ref: '#/components/schemas/searchBody'

    searchBody:
      required:
        - bin
      properties:
        bin:
          type: string
          description: Card's BIN.
          example: "1111111111111111"
        dateTime:
          type: string
          description: Retrieve BIN information for a specific date.
          example: '2024-07-02T12:00:00.000Z'

    searchResponse:
      required:
        - criteria
        - result
      properties:
        criteria:
          $ref: '#/components/schemas/searchCriteria'
          description: Objects that contain your search criteria.
        result:
            $ref: '#/components/schemas/infoWithBin'
            description: Object that contains information about the BIN.
    
    searchCriteria:
      properties:
        bin:
          type: string
          description: Card's BIN.
          example: "1111111111111111"
        dateTime:
          type: string
          description: Retrieve BIN information for a specific date.
          example: '2024-07-02T12:00:00.000Z'
 
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/PayrocWorldAccess/bin-info/1.0.0
