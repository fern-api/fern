openapi: 3.0.3

paths: {}

info:
  title: Common Domain Models
  description: Common domain models that are shared across the Payroc API
  version: '1'
  contact:
    name: Payroc Helpdesk
    url: https://www.payroc.com/help
    email: helpdesk@payroc.com

tags:
  - name: Common schemas
    description: Common schemas that can be resued

components:
  schemas:
    legalAddress:
      title: Legal address
      required:
      - type
      - city
      - country
      - address1
      - postalCode
      - state
      allOf:      
        - $ref: '#/components/schemas/addressType'
        - $ref: '../common/address-v1.yaml#/components/schemas/address'

    # Broken into a discrete named object for more accurate requiredness in generated code
    # See: https://github.com/payroc/papi-specs-fern_collaboration/issues/29
    addressType:
      type: object
      description: Type of address
      required:
        - type
      properties:
        type:
          type: string
          description: Type of address
          enum:
            - legalAddress
          default: legalAddress
