openapi: 3.0.3

paths: {}

info:
  title: Common Domain Models
  description: Common domain models that are shared across the Payroc API
  version: '1'
  contact:
    name: Payroc Helpdesk
    url: https://www.payroc.com/help
    email: helpdesk@payroc.com

tags:
  - name: Common responses
    description: Common responses that can be resued

components:
  responses:
    '409':
      description: Conflict 
      content:
        application/problem+json:
          schema:
            $ref : '#/components/schemas/409'
          examples:
            resourceExists:
              $ref : '#/components/examples/resourceExists'

  schemas:
    '409':
      type: object
      properties:
        type: 
          type: string
          description: URI reference identifying the problem type
          example: https://docs.payroc.com/api/errors#resource-already-exists
        title:
          type: string
          description: Short description of the issue.
          example: Resource already exists
        status:
          type: integer
          description: Http status code
          example: 409
        detail:
          type: string
          description: Explanation of the problem
          example: The resource you attempted to create already exists
        instance:
          type: string
          description: Resource path to the existing resource
          example: "https://api.payroc.com/v1/webhook/3"
      required:
        - type
        - title
        - status
        - detail

  examples:
    idempotentKeyInUse:
      summary: Idempotency key in use
      description: Idempotency key in use
      value:
          type: "https://docs.payroc.com/api/errors#idempotency-key-in-use"
          title: "Idempotency-Key in use"
          status: 409
          detail: "'Idempotency-Key' is already in use against a different request"
    resourceExists:
      summary: Resource already exists
      description: Resource already exists
      value:
        type: "https://docs.payroc.com/api/errors#resource-already-exists"
        title: "Resource already exists"
        status: 409
        detail: "The resource you attempted to create already exists"
        instance: "https://api.payroc.com/v1/merchant/12345"
    attributeConflict:
      summary: Attribute conflict
      description: There is a conflict in an attribute provided
      value:
        type: "https://docs.payroc.com/api/errors#attribute-conflict"
        title: "Attribute conflict"
        status: 409
        detail: "The 'key' supplied is already in use. You must produce a unique 'key'"
        instance: "https://api.payroc.com/v1/pricing-intent/12345"
    canNotBeModified:
      summary: Cannot be modified
      description: Resource cannot be modified.
      value:
        type: "https://docs.payroc.com/api/errors#cannot-be-modified"
        title: "Cannot be modified"
        status: 409
        detail: "You cannot modify this resource in its current state"
    taxIdInUse:
      summary: Tax ID in use
      description: The tax ID supplied is already in use.
      value:
        type: "https://docs.payroc.com/api/errors#tax-id-in-use"
        title: "Tax ID already in use"
        status: 409
        detail: "The tax ID that you supplied is already in use. Supply a unique tax ID"
    nationalIdInUse:
      summary: National ID in use
      description: One or more supplied national IDs are not unique. All national IDs must be unique.
      value:
        type: "https://docs.payroc.com/api/errors#national-id-in-use"
        title: "National ID in use"
        status: 409
        detail: "One or more supplied national IDs are not unique. All national IDs must be unique"