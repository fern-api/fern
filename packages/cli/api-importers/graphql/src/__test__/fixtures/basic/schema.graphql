# Basic GraphQL schema to test the converter

"""
A date-time string in ISO 8601 format
"""
scalar DateTime

"""
A date string in ISO 8601 format (YYYY-MM-DD)
"""
scalar Date

"""
A valid email address
"""
scalar Email

"""
A valid URL string
"""
scalar URL

"""
A universally unique identifier
"""
scalar UUID

"""
Arbitrary JSON data
"""
scalar JSON

"""
A file upload scalar
"""
scalar Upload

"""
A large integer value
"""
scalar BigInt

"""
A decimal number for precise calculations
"""
scalar Decimal

"""
A user in the system
"""
type User {
  """
  The unique identifier for the user
  """
  id: ID!
  """
  The user's unique UUID
  """
  uuid: UUID!
  """
  The user's display name
  """
  name: String!
  """
  The user's email address
  """
  email: Email
  """
  The user's age
  """
  age: Int
  """
  The user's account balance
  """
  balance: Decimal
  """
  Whether the user is active
  """
  isActive: Boolean!
  """
  The user's role in the system
  """
  role: UserRole!
  """
  The user's posts
  """
  posts: [Post!]!
  """
  When the user was created
  """
  createdAt: DateTime!
  """
  The user's date of birth
  """
  birthDate: Date
  """
  The user's profile URL
  """
  profileUrl: URL
  """
  Additional metadata as JSON
  """
  metadata: JSON
}

"""
A blog post
"""
type Post {
  """
  The unique identifier for the post
  """
  id: ID!
  """
  The post title
  """
  title: String!
  """
  The post content
  """
  content: String!
  """
  The post author
  """
  author: User!
  """
  The post status
  """
  status: PostStatus!
  """
  Tags associated with the post
  """
  tags: [String!]
  """
  When the post was published
  """
  publishedAt: DateTime
  """
  The number of views
  """
  viewCount: BigInt
}

"""
User roles in the system
"""
enum UserRole {
  """
  Administrator with full access
  """
  ADMIN
  """
  Regular user
  """
  USER
  """
  Guest with limited access
  """
  GUEST
}

"""
Post publication status
"""
enum PostStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

"""
Search result that can be either a User or a Post
"""
union SearchResult = User | Post

"""
Input for creating a new user
"""
input CreateUserInput {
  """
  The user's name
  """
  name: String!
  """
  The user's email
  """
  email: String!
  """
  The user's role
  """
  role: UserRole = USER
}

"""
Input for creating a new post
"""
input CreatePostInput {
  """
  The post title
  """
  title: String!
  """
  The post content
  """
  content: String!
  """
  The author's user ID
  """
  authorId: ID!
  """
  Tags for the post
  """
  tags: [String!]
}

"""
Input for filtering users
"""
input UserFilter {
  """
  Filter by role
  """
  role: UserRole
  """
  Filter by active status
  """
  isActive: Boolean
}

type Query {
  """
  Get a user by ID
  """
  user(id: ID!): User
  """
  Get all users with optional filtering
  """
  users(filter: UserFilter, limit: Int = 10, offset: Int = 0): [User!]!
  """
  Get a post by ID
  """
  post(id: ID!): Post
  """
  Get all posts
  """
  posts(status: PostStatus, limit: Int = 10): [Post!]!
  """
  Search for users or posts
  """
  search(query: String!): [SearchResult!]!
}

type Mutation {
  """
  Create a new user
  """
  createUser(input: CreateUserInput!): User!
  """
  Update an existing user
  """
  updateUser(id: ID!, name: String, email: String, role: UserRole): User
  """
  Delete a user
  """
  deleteUser(id: ID!): Boolean!
  """
  Create a new post
  """
  createPost(input: CreatePostInput!): Post!
  """
  Update a post's status
  """
  updatePostStatus(id: ID!, status: PostStatus!): Post
}

type Subscription {
  """
  Subscribe to new user creations
  """
  userCreated: User!
  """
  Subscribe to new posts by a specific user
  """
  postCreated(authorId: ID): Post!
  """
  Subscribe to post status changes
  """
  postStatusChanged(postId: ID!): Post!
}
