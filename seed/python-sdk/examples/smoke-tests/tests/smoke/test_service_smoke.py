# This file was auto-generated by Fern from our API Definition.

import typing

from .utilities import validate_smoke_test_response

from seed import AsyncSeedExamples, SeedExamples
from seed.types import RefreshTokenRequest


async def test_get_movie_smoke(client: SeedExamples, async_client: AsyncSeedExamples) -> None:
    expected_types: typing.Any = {
        "id": "string",
        "prequel": "string",
        "title": "string",
        "from": "string",
        "rating": "float",
        "type": None,
        "tag": "string",
        "metadata": ("dict", {0: ("string", None), 1: ("string", None), 2: ("string", None)}),
        "revenue": "integer",
    }
    response = client.service.get_movie(movie_id="movie-c06a4ad7")
    validate_smoke_test_response(response, expected_types)

    async_response = await async_client.service.get_movie(movie_id="movie-c06a4ad7")
    validate_smoke_test_response(async_response, expected_types)


async def test_create_movie_smoke(client: SeedExamples, async_client: AsyncSeedExamples) -> None:
    expected_types: typing.Any = "string"
    response = client.service.create_movie(
        id="movie-c06a4ad7",
        prequel="movie-cv9b914f",
        title="The Boy and the Heron",
        from_="Hayao Miyazaki",
        rating=8.0,
        tag="tag-wf9as23d",
        metadata={
            "actors": ["Christian Bale", "Florence Pugh", "Willem Dafoe"],
            "releaseDate": "2023-12-08",
            "ratings": {"rottenTomatoes": 97, "imdb": 7.6},
        },
        revenue=1000000,
    )
    validate_smoke_test_response(response, expected_types)

    async_response = await async_client.service.create_movie(
        id="movie-c06a4ad7",
        prequel="movie-cv9b914f",
        title="The Boy and the Heron",
        from_="Hayao Miyazaki",
        rating=8.0,
        tag="tag-wf9as23d",
        metadata={
            "actors": ["Christian Bale", "Florence Pugh", "Willem Dafoe"],
            "releaseDate": "2023-12-08",
            "ratings": {"rottenTomatoes": 97, "imdb": 7.6},
        },
        revenue=1000000,
    )
    validate_smoke_test_response(async_response, expected_types)


async def test_get_metadata_smoke(client: SeedExamples, async_client: AsyncSeedExamples) -> None:
    expected_types: typing.Any = "no_validate"
    response = client.service.get_metadata(x_api_version="0.0.1", shallow=False, tag="development")
    validate_smoke_test_response(response, expected_types)

    async_response = await async_client.service.get_metadata(x_api_version="0.0.1", shallow=False, tag="development")
    validate_smoke_test_response(async_response, expected_types)


async def test_refresh_token_smoke_0(client: SeedExamples, async_client: AsyncSeedExamples) -> None:
    response = client.service.refresh_token()
    assert response is not None

    async_response = await async_client.service.refresh_token()
    assert async_response is not None


async def test_refresh_token_smoke_1(client: SeedExamples, async_client: AsyncSeedExamples) -> None:
    response = client.service.refresh_token(request=RefreshTokenRequest(ttl=420))
    assert response is not None

    async_response = await async_client.service.refresh_token(request=RefreshTokenRequest(ttl=420))
    assert async_response is not None
