/**
 * This file was auto-generated by Fern from our API Definition.
 */

import { mockServerPool } from "../mock-server/MockServerPool.js";
import { SeedApiClient } from "../../src/Client";

describe("SeedApiClient", () => {
    test("getAccount", async () => {
        const server = mockServerPool.createServer();
        const client = new SeedApiClient({ environment: server.baseUrl });

        const rawResponseBody = {
            id: "id",
            related_resources: [
                {
                    id: "id",
                    related_resources: [
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            { resource_type: "Script", name: "name" },
                            { resource_type: "Script", name: "name" },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
                {
                    id: "id",
                    related_resources: [
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            { resource_type: "Script", name: "name" },
                            { resource_type: "Script", name: "name" },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
            ],
            memo: {
                description: "description",
                account: {
                    id: "id",
                    related_resources: [
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                        { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            { resource_type: "Script", name: "name" },
                            { resource_type: "Script", name: "name" },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
            },
            resource_type: "Account",
            name: "name",
            patient: {
                id: "id",
                related_resources: [
                    {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                    {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                ],
                memo: {
                    description: "description",
                    account: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                },
                resource_type: "Patient",
                name: "name",
                scripts: [
                    {
                        id: "id",
                        related_resources: [
                            { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                            { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                        ],
                        memo: {
                            description: "description",
                            account: {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        },
                        resource_type: "Script",
                        name: "name",
                    },
                    {
                        id: "id",
                        related_resources: [
                            { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                            { resource_type: "Account", name: "name", patient: undefined, practitioner: undefined },
                        ],
                        memo: {
                            description: "description",
                            account: {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        },
                        resource_type: "Script",
                        name: "name",
                    },
                ],
            },
            practitioner: {
                id: "id",
                related_resources: [
                    {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                    {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                ],
                memo: {
                    description: "description",
                    account: {
                        id: "id",
                        related_resources: [],
                        memo: { description: "description", account: undefined },
                        resource_type: "Account",
                        name: "name",
                        patient: { resource_type: "Patient", name: "name", scripts: [] },
                        practitioner: { resource_type: "Practitioner", name: "name" },
                    },
                },
                resource_type: "Practitioner",
                name: "name",
            },
        };
        server
            .mockEndpoint()
            .get("/account/account_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.getAccount("account_id");
        expect(response).toEqual({
            id: "id",
            related_resources: [
                {
                    id: "id",
                    related_resources: [
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
                {
                    id: "id",
                    related_resources: [
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
            ],
            memo: {
                description: "description",
                account: {
                    id: "id",
                    related_resources: [
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                        {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    ],
                    memo: {
                        description: "description",
                        account: {
                            resource_type: "Account",
                            name: "name",
                            patient: undefined,
                            practitioner: undefined,
                        },
                    },
                    resource_type: "Account",
                    name: "name",
                    patient: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Patient",
                        name: "name",
                        scripts: [
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                            {
                                resource_type: "Script",
                                name: "name",
                            },
                        ],
                    },
                    practitioner: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Practitioner",
                        name: "name",
                    },
                },
            },
            resource_type: "Account",
            name: "name",
            patient: {
                id: "id",
                related_resources: [
                    {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                    {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                ],
                memo: {
                    description: "description",
                    account: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                },
                resource_type: "Patient",
                name: "name",
                scripts: [
                    {
                        id: "id",
                        related_resources: [
                            {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                            {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        ],
                        memo: {
                            description: "description",
                            account: {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        },
                        resource_type: "Script",
                        name: "name",
                    },
                    {
                        id: "id",
                        related_resources: [
                            {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                            {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        ],
                        memo: {
                            description: "description",
                            account: {
                                resource_type: "Account",
                                name: "name",
                                patient: undefined,
                                practitioner: undefined,
                            },
                        },
                        resource_type: "Script",
                        name: "name",
                    },
                ],
            },
            practitioner: {
                id: "id",
                related_resources: [
                    {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                    {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                ],
                memo: {
                    description: "description",
                    account: {
                        id: "id",
                        related_resources: [],
                        memo: {
                            description: "description",
                            account: undefined,
                        },
                        resource_type: "Account",
                        name: "name",
                        patient: {
                            resource_type: "Patient",
                            name: "name",
                            scripts: [],
                        },
                        practitioner: {
                            resource_type: "Practitioner",
                            name: "name",
                        },
                    },
                },
                resource_type: "Practitioner",
                name: "name",
            },
        });
    });
});
