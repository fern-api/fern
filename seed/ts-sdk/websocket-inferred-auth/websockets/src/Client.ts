// This file was auto-generated by Fern from our API Definition.

import type { BaseClientOptions, BaseRequestOptions } from "./BaseClient.js";
import * as core from "./core/index.js";
import { normalizeClientOptions } from "./BaseClient.js";
import { InferredAuthProvider } from "./auth/InferredAuthProvider.js";
import { AuthClient } from "./api/resources/auth/client/Client.js";
import { RealtimeClient } from "./api/resources/realtime/client/Client.js";

export declare namespace SeedWebsocketAuthClient {
    export interface Options extends BaseClientOptions {
        xApiKey: string;
        clientId: string;
        clientSecret: string;
        scope?: string;
    }

    export interface RequestOptions extends BaseRequestOptions {
    }
}

export class SeedWebsocketAuthClient {
    protected readonly _options: SeedWebsocketAuthClient.Options;
    protected readonly _authProvider: core.AuthProvider;
    protected _auth: AuthClient | undefined;
    protected _realtime: RealtimeClient | undefined;

    constructor(options: SeedWebsocketAuthClient.Options) {


                        this._options = normalizeClientOptions(options);
                        this._authProvider = new InferredAuthProvider({
            client: this,
            authTokenParameters: { ...this._options }
        });
                    
    }

    public get auth(): AuthClient {
        return (this._auth ??= new AuthClient(this._options));
    }

    public get realtime(): RealtimeClient {
        return (this._realtime ??= new RealtimeClient({ ...this._options, authProvider: this._authProvider }));
    }
}
