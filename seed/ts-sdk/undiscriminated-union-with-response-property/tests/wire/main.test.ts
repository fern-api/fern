// This file was auto-generated by Fern from our API Definition.

import { mockServerPool } from "../mock-server/MockServerPool";
import { SeedUndiscriminatedUnionWithResponsePropertyClient } from "../../src/Client";

describe("SeedUndiscriminatedUnionWithResponsePropertyClient", () => {
    
    test("getUnion", async () => {
        const server = mockServerPool.createServer();
        const client = new SeedUndiscriminatedUnionWithResponsePropertyClient({ "environment" : server.baseUrl });
        
        const rawResponseBody = { "data" : { "type" : "A" , "valueA" : "valueA" } };
        server
            .mockEndpoint()
            .get("/union").respondWith()
            .statusCode(200).jsonBody(rawResponseBody)
                .build();

        
                    
                            const response = await client.getUnion();
                            expect(response).toEqual({
    data: {
        type: "A",
        valueA: "valueA"
    }
});
                          
                
    });
          
    test("listUnions", async () => {
        const server = mockServerPool.createServer();
        const client = new SeedUndiscriminatedUnionWithResponsePropertyClient({ "environment" : server.baseUrl });
        
        const rawResponseBody = { "data" : [ { "type" : "A" , "valueA" : "valueA" } , { "type" : "A" , "valueA" : "valueA" } ] };
        server
            .mockEndpoint()
            .get("/unions").respondWith()
            .statusCode(200).jsonBody(rawResponseBody)
                .build();

        
                    
                            const response = await client.listUnions();
                            expect(response).toEqual({
    data: [{
            type: "A",
            valueA: "valueA"
        }, {
            type: "A",
            valueA: "valueA"
        }]
});
                          
                
    });
          
});
