// This file was auto-generated by Fern from our API Definition.

import { SeedPaginationClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("Users", () => {
  test("listUsernamesCustom", async () => {
    const server = mockServerPool.createServer();
    const client = new SeedPaginationClient({
      token: "test",
      environment: server.baseUrl,
    });

    const rawResponseBody = {
      cursor: { after: "after", data: ["data", "data"] },
    };
    server
      .mockEndpoint()
      .get("/users")
      .respondWith()
      .statusCode(200)
      .jsonBody(rawResponseBody)
      .build();

    const expected = {
      cursor: {
        after: "after",
        data: ["data", "data"],
      },
    };
    const page = await client.users.listUsernamesCustom({
      starting_after: "starting_after",
    });
    expect(expected.cursor.data).toEqual(page.cursor.data);
  });
});
