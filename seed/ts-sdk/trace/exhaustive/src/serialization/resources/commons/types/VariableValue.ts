/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../index";
import * as SeedTrace from "../../../../api/index";
import * as core from "../../../../core";
import { BinaryTreeValue } from "./BinaryTreeValue";
import { SinglyLinkedListValue } from "./SinglyLinkedListValue";
import { DoublyLinkedListValue } from "./DoublyLinkedListValue";

export const VariableValue: core.serialization.Schema<serializers.VariableValue.Raw, SeedTrace.VariableValue> =
    core.serialization
        .union("type", {
            integerValue: core.serialization.object({
                value: core.serialization.number(),
            }),
            booleanValue: core.serialization.object({
                value: core.serialization.boolean(),
            }),
            doubleValue: core.serialization.object({
                value: core.serialization.number(),
            }),
            stringValue: core.serialization.object({
                value: core.serialization.string(),
            }),
            charValue: core.serialization.object({
                value: core.serialization.string(),
            }),
            mapValue: core.serialization.lazyObject(() => serializers.MapValue),
            listValue: core.serialization.object({
                value: core.serialization.list(core.serialization.lazy(() => serializers.VariableValue)),
            }),
            binaryTreeValue: BinaryTreeValue,
            singlyLinkedListValue: SinglyLinkedListValue,
            doublyLinkedListValue: DoublyLinkedListValue,
            nullValue: core.serialization.object({}),
        })
        .transform<SeedTrace.VariableValue>({
            transform: (value) => {
                switch (value.type) {
                    case "integerValue":
                        return SeedTrace.VariableValue.integerValue(value.value);
                    case "booleanValue":
                        return SeedTrace.VariableValue.booleanValue(value.value);
                    case "doubleValue":
                        return SeedTrace.VariableValue.doubleValue(value.value);
                    case "stringValue":
                        return SeedTrace.VariableValue.stringValue(value.value);
                    case "charValue":
                        return SeedTrace.VariableValue.charValue(value.value);
                    case "mapValue":
                        return SeedTrace.VariableValue.mapValue(value);
                    case "listValue":
                        return SeedTrace.VariableValue.listValue(value.value);
                    case "binaryTreeValue":
                        return SeedTrace.VariableValue.binaryTreeValue(value);
                    case "singlyLinkedListValue":
                        return SeedTrace.VariableValue.singlyLinkedListValue(value);
                    case "doublyLinkedListValue":
                        return SeedTrace.VariableValue.doublyLinkedListValue(value);
                    case "nullValue":
                        return SeedTrace.VariableValue.nullValue();
                    default:
                        return SeedTrace.VariableValue._unknown(value);
                }
            },
            untransform: ({ _visit, ...value }) => value as any,
        });

export declare namespace VariableValue {
    type Raw =
        | VariableValue.IntegerValue
        | VariableValue.BooleanValue
        | VariableValue.DoubleValue
        | VariableValue.StringValue
        | VariableValue.CharValue
        | VariableValue.MapValue
        | VariableValue.ListValue
        | VariableValue.BinaryTreeValue
        | VariableValue.SinglyLinkedListValue
        | VariableValue.DoublyLinkedListValue
        | VariableValue.NullValue;

    interface IntegerValue {
        type: "integerValue";
        value: number;
    }

    interface BooleanValue {
        type: "booleanValue";
        value: boolean;
    }

    interface DoubleValue {
        type: "doubleValue";
        value: number;
    }

    interface StringValue {
        type: "stringValue";
        value: string;
    }

    interface CharValue {
        type: "charValue";
        value: string;
    }

    interface MapValue extends serializers.MapValue.Raw {
        type: "mapValue";
    }

    interface ListValue {
        type: "listValue";
        value: serializers.VariableValue.Raw[];
    }

    interface BinaryTreeValue extends BinaryTreeValue.Raw {
        type: "binaryTreeValue";
    }

    interface SinglyLinkedListValue extends SinglyLinkedListValue.Raw {
        type: "singlyLinkedListValue";
    }

    interface DoublyLinkedListValue extends DoublyLinkedListValue.Raw {
        type: "doublyLinkedListValue";
    }

    interface NullValue {
        type: "nullValue";
    }
}
