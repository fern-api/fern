// Code generated by Fern. DO NOT EDIT.

package literal

import (
	json "encoding/json"
	internal "github.com/literal/fern/internal"
	big "math/big"
)

var (
	sendLiteralsInHeadersRequestFieldQuery = big.NewInt(1 << 0)
)

type SendLiteralsInHeadersRequest struct {
	Query           string `json:"query" url:"-"`
	endpointVersion string
	async           bool

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (s *SendLiteralsInHeadersRequest) EndpointVersion() string {
	return s.endpointVersion
}

func (s *SendLiteralsInHeadersRequest) Async() bool {
	return s.async
}

func (s *SendLiteralsInHeadersRequest) require(field *big.Int) {
	if s.explicitFields == nil {
		s.explicitFields = big.NewInt(0)
	}
	s.explicitFields.Or(s.explicitFields, field)
}

// SetQuery sets the Query field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (s *SendLiteralsInHeadersRequest) SetQuery(query string) {
	s.Query = query
	s.require(sendLiteralsInHeadersRequestFieldQuery)
}

func (s *SendLiteralsInHeadersRequest) UnmarshalJSON(data []byte) error {
	type unmarshaler SendLiteralsInHeadersRequest
	var body unmarshaler
	if err := json.Unmarshal(data, &body); err != nil {
		return err
	}
	*s = SendLiteralsInHeadersRequest(body)
	s.endpointVersion = "02-12-2024"
	s.async = true
	return nil
}

func (s *SendLiteralsInHeadersRequest) MarshalJSON() ([]byte, error) {
	type embed SendLiteralsInHeadersRequest
	var marshaler = struct {
		embed
		EndpointVersion string `json:"X-Endpoint-Version"`
		Async           bool   `json:"X-Async"`
	}{
		embed:           embed(*s),
		EndpointVersion: "02-12-2024",
		Async:           true,
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, s.explicitFields)
	return json.Marshal(explicitMarshaler)
}
