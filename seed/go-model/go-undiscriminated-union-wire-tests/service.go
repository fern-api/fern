// Code generated by Fern. DO NOT EDIT.

package api

import (
	json "encoding/json"
	fmt "fmt"
	internal "github.com/go-undiscriminated-union-wire-tests/fern/internal"
)

type DocumentItem struct {
	String         string
	DocumentObject *DocumentObject
}

type DocumentObject struct {
	Text string `json:"text" url:"text"`

	extraProperties map[string]any
	rawJSON         json.RawMessage
}

func (d *DocumentObject) GetText() string {
	if d == nil {
		return ""
	}
	return d.Text
}

func (d *DocumentObject) GetExtraProperties() map[string]any {
	if d == nil {
		return nil
	}
	return d.extraProperties
}

func (d *DocumentObject) UnmarshalJSON(
	data []byte,
) error {
	type unmarshaler DocumentObject
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*d = DocumentObject(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *d)
	if err != nil {
		return err
	}
	d.extraProperties = extraProperties
	d.rawJSON = json.RawMessage(data)
	return nil
}

func (d *DocumentObject) String() string {
	if len(d.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(d.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(d); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", d)
}

type RerankRequest struct {
	Documents []*DocumentItem `json:"documents" url:"documents"`
	Query     string          `json:"query" url:"query"`

	extraProperties map[string]any
	rawJSON         json.RawMessage
}

func (r *RerankRequest) GetDocuments() []*DocumentItem {
	if r == nil {
		return nil
	}
	return r.Documents
}

func (r *RerankRequest) GetQuery() string {
	if r == nil {
		return ""
	}
	return r.Query
}

func (r *RerankRequest) GetExtraProperties() map[string]any {
	if r == nil {
		return nil
	}
	return r.extraProperties
}

func (r *RerankRequest) UnmarshalJSON(
	data []byte,
) error {
	type unmarshaler RerankRequest
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*r = RerankRequest(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *r)
	if err != nil {
		return err
	}
	r.extraProperties = extraProperties
	r.rawJSON = json.RawMessage(data)
	return nil
}

func (r *RerankRequest) String() string {
	if len(r.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(r.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(r); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", r)
}

type RerankResponse struct {
	Results []string `json:"results" url:"results"`

	extraProperties map[string]any
	rawJSON         json.RawMessage
}

func (r *RerankResponse) GetResults() []string {
	if r == nil {
		return nil
	}
	return r.Results
}

func (r *RerankResponse) GetExtraProperties() map[string]any {
	if r == nil {
		return nil
	}
	return r.extraProperties
}

func (r *RerankResponse) UnmarshalJSON(
	data []byte,
) error {
	type unmarshaler RerankResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*r = RerankResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *r)
	if err != nil {
		return err
	}
	r.extraProperties = extraProperties
	r.rawJSON = json.RawMessage(data)
	return nil
}

func (r *RerankResponse) String() string {
	if len(r.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(r.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(r); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", r)
}
